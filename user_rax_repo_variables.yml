# Base variables
rax_deb_line: "deb {{ rax_repo_url }} {{ artifacts_version }}-{{ ansible_distribution_release }} main"
rax_repo_url: "http://rpc-repo.rackspace.com/apt-mirror/integrated/"
artifacts_version: "rpc-14.0.0rc1" #Move to reading variable
rax_repo_filename: rax
gpg_key_location: "http://rpc-repo.rackspace.com/apt-mirror/"
gpg_key_name: "rcbops-release-signing-key.asc"
gpg_key_id: 22A9BF80 #SET IN STATIC (to force key verification per release).

# For convenience
rax_repo:
  repo: "{{ rax_deb_line }}"
  state: "present"
  filename: "{{ rax_repo_filename }}"
rax_gpg_keys:
  - hash_id:  "{{ gpg_key_id }}"
    url: "{{ gpg_key_location }}{{ gpg_key_name }}"
    state: "present"

# HAProxy
haproxy_repo: "{{ rax_repo }}"
haproxy_gpg_keys: "{{ rax_gpg_keys }}"

# RabbitMQ
rabbitmq_install_method: "external_repo"
rabbitmq_repo: "{{ rax_repo }}"
rabbitmq_gpg_keys: "{{ rax_gpg_keys }}"

# ceph_client wiring
ceph_apt_repos:
  uca: "{{ rax_repo }}"
ceph_pkg_source: "uca"

# galera_client role wiring
galera_client_repo: "{{ rax_deb_line }}"
mariadb_repo_filename: "{{ rax_repo_filename }}"
galera_client_gpg_keys: "{{ rax_gpg_keys }}"

# galera_server wiring
use_percona_upstream: True
galera_repo: "{{ rax_repo }}"
galera_percona_xtrabackup_repo: "{{ rax_repo }}"

# neutron, nova wiring #GPG ... TO THINK
uca_repo: "{{ rax_deb_line }}"
uca_apt_source_list_filename: "{{ rax_repo_filename }}"

# Elasticsearch
elasticsearch_apt_repos:
  - "{{ rax_repo }}"
elasticsearch_apt_keys: "{{ rax_gpg_keys }}"

# Filebeat
filebeat_apt_repos:
  - "{{ rax_repo }}"
filebeat_apt_gpg_keys: "{{ rax_gpg_keys }}"

# Kibana
kibana_apt_repos:
  - "{{ rax_repo }}"
kibana_apt_keys: "{{ rax_gpg_keys }}"

# Logstash
logstash_apt_repos:
  - "{{ rax_repo }}"
logstash_apt_keys: "{{ rax_gpg_keys }}"

# MAAS
maas_apt_repos:
  - "{{ rax_repo }}"
maas_apt_keys: "{{ rax_gpg_keys }}"

# RPC Support
hwraid_apt_repos:
  - repo: "deb http://rpc-repo.rackspace.com/apt-mirror/independant/hwraid-{{ ansible_distribution_release }}/ {{ artifacts_version }}-{{ ansible_distribution_release }} main"
    state: "present"
hwraid_apt_keys: "{{ rax_gpg_keys }}"
